/*!
JQUERY PLUGIN CSS-TRANSITIONS
Copyright (c) 2012 Felipe Hefler

Licensed under the MIT license.
http://github.com/hefler/jquery-css-transitions/blob/master/LICENSE

GitHub
https://github.com/hefler/jquery-css-transitions
*/(function(e){var t=document.getElementsByTagName("body")[0].style,n=t.transition!==undefined||t.webkitTransition!==undefined||t.MozTransition!==undefined||t.msTransition!==undefined||t.OTransition!==undefined,r=function(){var t="";e.browser.webkit?t="webkit":e.browser.msie?t="ms":e.browser.mozilla?t="moz":e.browser.opera&&(t="o");return t},i=window.requestAnimationFrame!==undefined||window.webkitRequestAnimationFrame!==undefined||window.mozRequestAnimationFrame!==undefined||window.oRequestAnimationFrame!==undefined;if(i&&!window.requestAnimationFrame){window.requestAnimationFrame=window[e.browser.vendorPrefix+"RequestAnimationFrame"];window.cancelRequestAnimationFrame=window[e.browser.vendorPrefix+"CancelRequestAnimationFrame"]}var s=function(){var t="transitionEnd";e.browser.webkit?t="webkitTransitionEnd":e.browser.msie?t=parseInt(e.browser.version,10)>=10?"transitionend":"msTransitionEnd":e.browser.mozilla?t="transitionend":e.browser.opera&&(t=parseInt(e.browser.version,10)>=12?"otransitionend":"oTransitionEnd");return t};e.extend(e.browser,{vendorPrefix:r(),hasAnimationFrame:i,cssCapabilities:{hasTransitions:n,transitionEndEvent:s()}});e.fn.cssTransitions=function(t,n,r){return this.each(function(){n===undefined&&(n=500);var i=e(this),s=i.data("transitionsCount");if(e.browser.cssCapabilities.hasTransitions){s?s.count++:e(this).data("transitionsCount",{count:0});var o=(e.browser.vendorPrefix.length>0?"-":"")+e.browser.vendorPrefix+"-transition-duration";t[o]=n/1e3+"s";i.show().css(t);i.on(e.browser.cssCapabilities.transitionEndEvent,function(t){var n=e(t.target),i=n.data("transitionsCount");n.off(t.type);if(i){i.count--;if(i.count<=0){i.count=0;n.css(o,"")}}e.isFunction(r)&&r(t)})}else i.show().animate(t,n,r?r:null)})}})(jQuery);